<div class="page-header">
  <h1>List of Companies</h1>
</div>

<%= render partial: 'nav_tabs' %>

<%= render partial: 'filter' %>

<% if @companies.empty? %>
  <p> - no results found - </p>
<% else %>

  <div class="col-sm-8 without-padding">
    <table class="table table-condensed table-striped">
      <thead>
      <tr>
        <th></th>
        <th>
          <%= link_to 'Name', '#',
                      'data-field' => 'name',
                      class: "sort-link #{sort_class('name')}" %>
        </th>
        <th>
          <%= link_to 'Address', '#',
                      'data-field' => 'address',
                      class: "sort-link #{sort_class('address')}" %>
        </th>
        <th>
          <%= link_to 'Postcode', '#',
                      'data-field' => 'postcode',
                      class: "sort-link #{sort_class('postcode')}" %>
        </th>
        <th>
          <%= link_to 'City', '#',
                      'data-field' => 'city',
                      class: "sort-link #{sort_class('city')}" %>
        </th>
        <th>
          <%= link_to 'Country', '#',
                      'data-field' => 'country',
                      class: "sort-link #{sort_class('country')}" %>
        </th>
        <th>
          <%= link_to 'Edited at', '#',
                      'data-field' => 'updated_at',
                      class: "sort-link #{sort_class('updated_at')}" %>
        </th>
        <th>
          <%= link_to 'Created at', '#',
                      'data-field' => 'created_at',
                      class: "sort-link #{sort_class('created_at')}" %>
        </th>
        <th>Actions</th>
      </tr>
      </thead>

      <tbody>
      <% @companies.each do |company| %>
        <tr>
          <td><%= check_box_tag 'select', 'yes', false, class: 'list-checkbox', 'data-id' => company.id %></td>
          <td><%= company.name %></td>
          <td><%= company.address %></td>
          <td><%= company.postcode %></td>
          <td><%= company.city %></td>
          <td><%= company.country %></td>
          <td><%= date_format(company.updated_at) %></td>
          <td><%= date_format(company.updated_at) %></td>
          <td class="action-links">
            <%= link_to fa_icon('pencil', text: 'Edit'), edit_company_path(company), class: 'action-link' %>
            <%= link_to fa_icon('times', text: 'Delete'), company, method: :delete, data: { confirm: 'Are you sure?' }, class: 'action-link' %>
          </td>
        </tr>
      <% end %>
      </tbody>
    </table>
  </div>

<% end %>